import{_ as p,r as o,o as i,c as u,a as s,b as a,d as e,e as l}from"./app-6e4b3321.js";const c={},r={href:"https://github.com/actions/setup-go",target:"_blank",rel:"noopener noreferrer"},k={href:"https://github.com/golangci/golangci-lint-action",target:"_blank",rel:"noopener noreferrer"},d={href:"https://github.com/actions/setup-node",target:"_blank",rel:"noopener noreferrer"},v={href:"https://github.com/bahmutov/npm-install",target:"_blank",rel:"noopener noreferrer"},m={href:"https://docs.github.com/cn/actions/automating-builds-and-tests/building-and-testing-go",target:"_blank",rel:"noopener noreferrer"};function b(g,n){const t=o("ExternalLinkIcon");return i(),u("div",null,[n[11]||(n[11]=s("h2",{id:"preface",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#preface","aria-hidden":"true"},"#"),a(" Preface")],-1)),n[12]||(n[12]=s("p",null,"A project, after being launched as an open source project, will naturally attract other developers to collaborate, and when there is more and more collaboration, it is very important to have a pre-check that can automatically detect basic syntax problems in the code.",-1)),n[13]||(n[13]=s("p",null,"This article will show you how to automate code detection scans for each language with the help of Github Actions.",-1)),n[14]||(n[14]=s("h2",{id:"go-language",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#go-language","aria-hidden":"true"},"#"),a(" Go language")],-1)),n[15]||(n[15]=s("p",null,"Used Actions。",-1)),s("ul",null,[s("li",null,[s("a",r,[n[0]||(n[0]=a("setup-go")),e(t)]),n[1]||(n[1]=a("：Provide a GO basic environment."))]),s("li",null,[s("a",k,[n[2]||(n[2]=a("golangci-lint-action")),e(t)]),n[3]||(n[3]=a("：Ability to run actions for golangci-lint checks."))])]),n[16]||(n[16]=l(`<p>Using the configuration is actually very simple, basically after reading the official introduction document you can get started to use, here is one or two things to pay attention to.</p><p>Start by adding the Actions profile，e.g. <code>.github/workflows/go-ci.yml</code>：</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> golangci<span class="token punctuation">-</span>lint

<span class="token key atrule">on</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>push<span class="token punctuation">,</span> pull_request<span class="token punctuation">]</span>

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">golangci</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> golang<span class="token punctuation">-</span>lint
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>go@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">go-version</span><span class="token punctuation">:</span> <span class="token number">1.17</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v3
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> golangci<span class="token punctuation">-</span>lint
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> golangci/golangci<span class="token punctuation">-</span>lint<span class="token punctuation">-</span>action@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">version</span><span class="token punctuation">:</span> v1.46.2
  <span class="token key atrule">build</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> go<span class="token punctuation">-</span>build
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v3
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Set up Go
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>go@v3
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">go-version</span><span class="token punctuation">:</span> <span class="token number">1.17</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build
        <span class="token key atrule">run</span><span class="token punctuation">:</span> go build <span class="token punctuation">-</span>v ./<span class="token punctuation">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The configuration items are also relatively simple, do not repeat too much, adjust according to your actual situation.</p><p>After this configuration is added, every time there is a push action, or a PR request, the action will be automatically run, as shown in the following example:</p><p><img src="https://cdn.jsdelivr.net/gh/eryajf/tu/img/image_20220724_084202.png" alt="image_20220724_084202"></p><p>When this step fails, the person submitting the PR will also perform some self-tests according to the content of the error.</p><h2 id="node" tabindex="-1"><a class="header-anchor" href="#node" aria-hidden="true">#</a> Node</h2><p>Actions used.</p>`,9)),s("ul",null,[s("li",null,[s("a",d,[n[4]||(n[4]=a("setup-node")),e(t)]),n[5]||(n[5]=a("：Provide the runtime environment of node."))]),s("li",null,[s("a",v,[n[6]||(n[6]=a("npm-install")),e(t)]),n[7]||(n[7]=a("：Provide an npm with caching."))])]),n[17]||(n[17]=l(`<div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> Test

	<span class="token key atrule">on</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>push<span class="token punctuation">,</span> pull_request<span class="token punctuation">]</span>

	<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
	  <span class="token key atrule">lint</span><span class="token punctuation">:</span>
	    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
	    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
	    <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2
	    <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v1
	      <span class="token key atrule">with</span><span class="token punctuation">:</span>
	        <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">&#39;12.x&#39;</span>
	    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install dependencies
	      <span class="token key atrule">uses</span><span class="token punctuation">:</span> bahmutov/npm<span class="token punctuation">-</span>install@v1
	    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Run linter
	      <span class="token key atrule">run</span><span class="token punctuation">:</span> npm run lint

	  <span class="token key atrule">test</span><span class="token punctuation">:</span>
	    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
	    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
	    <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2
	    <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v1
	      <span class="token key atrule">with</span><span class="token punctuation">:</span>
	        <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">&#39;12.x&#39;</span>
	    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install dependencies
	      <span class="token key atrule">uses</span><span class="token punctuation">:</span> bahmutov/npm<span class="token punctuation">-</span>install@v1
	    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Run test
	      <span class="token key atrule">run</span><span class="token punctuation">:</span> npm test

	  <span class="token key atrule">build</span><span class="token punctuation">:</span>
	    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
	    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
	    <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2
	    <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v1
	      <span class="token key atrule">with</span><span class="token punctuation">:</span>
	        <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">&#39;12.x&#39;</span>
	    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Install dependencies
	      <span class="token key atrule">uses</span><span class="token punctuation">:</span> bahmutov/npm<span class="token punctuation">-</span>install@v1
	    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build
	      <span class="token key atrule">run</span><span class="token punctuation">:</span> npm run build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,2)),s("p",null,[n[9]||(n[9]=a("The above is to take two languages as an example, it is a brick throwing jade, the detection of other languages, you can refer to the official documentation: the above is to take two languages as an example, it is a brick throwing jade, the detection of other languages, you can refer to the official documentation:")),s("a",m,[n[8]||(n[8]=a("https://docs.github.com/cn/actions/automating-builds-and-tests/building-and-testing-go")),e(t)]),n[10]||(n[10]=a(" to configure."))])])}const h=p(c,[["render",b],["__file","06-Automatically-perform-code-scan-pre-check.html.vue"]]);export{h as default};
