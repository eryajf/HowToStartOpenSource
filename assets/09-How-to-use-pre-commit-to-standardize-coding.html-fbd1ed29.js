import{_ as o,r as p,o as c,c as l,a as n,b as s,e as t,d as e}from"./app-61d5ee01.js";const i={},u=n("h2",{id:"å‰è¨€",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å‰è¨€","aria-hidden":"true"},"#"),s(" å‰è¨€")],-1),r=n("p",null,"æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸è®ºæ˜¯å“ªä¸ªè¯­è¨€ï¼Œä¸€å®šéƒ½ä¼šæœ‰ç›¸å¯¹åº”çš„è¯­æ³•æ£€æµ‹å·¥å…·æˆ–è€…æ‰‹æ®µæ¥è¾…åŠ©æˆ‘ä»¬æ£€æŸ¥å‡ºç¼–ç è¿‡ç¨‹ä¸­çš„ä¸€äº›é—æ¼æˆ–ç–å¿½ã€‚ä½†æœ‰æ—¶å€™ä¼šæœ‰ä¸€ä¸ªå°´å°¬çš„æƒ…å†µå°±æ˜¯ï¼ŒæŠŠæ£€æµ‹çš„æ–¹å¼é…ç½®ä¸Šå»äº†ï¼Œå´æ²¡æœ‰è¿è¡Œï¼Œæœ€åæˆäº†æ‘†è®¾ã€‚",-1),d=n("p",null,"ä»Šå¤©æ¥ä»‹ç»ä¸€ä¸ªå·¥å…·ï¼Œèƒ½å¤Ÿå®Œæˆåœ¨ä»£ç æäº¤ä¹‹å‰è¿è¡ŒæŒ‡å®šæ£€æµ‹ï¼Œä»è€Œå®ç°ä»£ç çš„è‡ªæ£€ã€‚",-1),k={href:"https://github.com/pre-commit/pre-commit",target:"_blank",rel:"noopener noreferrer"},m={href:"https://pre-commit.com/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://github.com/pre-commit/pre-commit-hooks",target:"_blank",rel:"noopener noreferrer"},_=e(`<p>pre-commit çš„è¿è¡Œæœºåˆ¶å€ŸåŠ©äº git hook æ¥å®Œæˆæäº¤ä¹‹å‰çš„ä¸€äº›é¢„å®šä¹‰æŒ‡ä»¤çš„è¿è¡Œï¼Œæ¥è¾¾åˆ°æäº¤å‰æ£€æµ‹çš„ç›®çš„ã€‚</p><h2 id="å…³äºgit-hook" tabindex="-1"><a class="header-anchor" href="#å…³äºgit-hook" aria-hidden="true">#</a> å…³äºgit hook</h2><p>Git èƒ½åœ¨ç‰¹å®šçš„é‡è¦åŠ¨ä½œå‘ç”Ÿæ—¶è§¦å‘è‡ªå®šä¹‰è„šæœ¬é’©å­ã€‚é’©å­åˆ†ä¸ºä¸¤ç»„ï¼š</p><ul><li>å®¢æˆ·ç«¯é’©å­ï¼š<code>pre-commit</code>, <code>prepare-commit-msg</code>, <code>commit-msg</code>, <code>post-commit</code> ç­‰ï¼Œä¸»è¦åœ¨æœåŠ¡ç«¯æ¥æ”¶æäº¤å¯¹è±¡æ—¶ã€æ¨é€åˆ°æœåŠ¡å™¨ä¹‹å‰è°ƒç”¨ã€‚</li><li>æœåŠ¡å™¨é’©å­ï¼š<code>pre-receive</code>, <code>post-receive</code>, <code>update</code> ç­‰ï¼Œä¸»è¦åœ¨æœåŠ¡ç«¯æ¥æ”¶æäº¤å¯¹è±¡æ—¶ã€æ¨é€åˆ°æœåŠ¡å™¨ä¹‹å‰è°ƒç”¨ã€‚</li></ul><p>git hooks ä½ç½®ä½äºæ¯ä¸ª git é¡¹ç›®ä¸‹çš„ <code>.git/hooks</code> ç›®å½•é‡Œï¼Œè¿›å»åä¼šçœ‹åˆ°è¿™äº›é’©å­çš„å®˜æ–¹ç¤ºä¾‹ï¼Œéƒ½æ˜¯ä»¥ <code>.sample</code> ç»“å°¾çš„æ–‡ä»¶ï¼Œè¿™äº›ç¤ºä¾‹è„šæœ¬æ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼Œå»æ‰ <code>.sample</code> åç¼€å¯æ¿€æ´»è¯¥é’©å­è„šæœ¬ã€‚</p><blockquote><p>PSï¼šGIt hooks çš„æ¯ä¸ªé’©å­çš„ä½œç”¨å’Œè¯´æ˜ï¼Œè¯¦ç»†çš„ä»¥å®˜æ–¹æ–‡æ¡£ä¸ºå‡†ï¼š https://git-scm.com/docs/githooks</p></blockquote><p><img src="http://t.eryajf.net/imgs/2023/02/b521f43dba90f43b.jpg" alt=""></p><h2 id="å®‰è£…ä½“éªŒ" tabindex="-1"><a class="header-anchor" href="#å®‰è£…ä½“éªŒ" aria-hidden="true">#</a> å®‰è£…ä½“éªŒ</h2><h3 id="å®‰è£…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…" aria-hidden="true">#</a> å®‰è£…</h3><p>pre-commit æ˜¯ä¸€ä¸ª Python è¯­è¨€å†™çš„å·¥å…·ï¼Œé€šè¿‡å¦‚ä¸‹å‘½ä»¤èƒ½å¤Ÿè½»æ¾å®‰è£…è¯¥å·¥å…·ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ pip3 <span class="token function">install</span> pre-commit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æŸ¥çœ‹ç‰ˆæœ¬ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ pre-commit <span class="token parameter variable">--version</span>
pre-commit <span class="token number">3.1</span>.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœè¿™æ¡å‘½ä»¤è¿è¡Œæ²¡æœ‰é—®é¢˜ï¼Œåˆ™è¯´æ˜å®‰è£…æˆåŠŸã€‚</p><h3 id="é…ç½®" tabindex="-1"><a class="header-anchor" href="#é…ç½®" aria-hidden="true">#</a> é…ç½®</h3>`,15),v={href:"https://github.com/eryajf/learn-github",target:"_blank",rel:"noopener noreferrer"},g=e(`<p>pre-commit ä»¥ <code>.pre-commit-config.yaml</code> æ–‡ä»¶ä½œä¸ºé»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ç”Ÿæˆç®€å•çš„é…ç½®å†…å®¹ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ pre-commit sample-config <span class="token operator">&gt;</span> .pre-commit-config.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æŸ¥çœ‹ä¸€ä¸‹é…ç½®æ–‡ä»¶çš„å†…å®¹ä¿¡æ¯ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">cat</span> .pre-commit-config.yaml
<span class="token comment"># See https://pre-commit.com for more information</span>
<span class="token comment"># See https://pre-commit.com/hooks.html for more hooks</span>
repos:
-   repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:
    -   id: trailing-whitespace
    -   id: end-of-file-fixer
    -   id: check-yaml
    -   id: check-added-large-files
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>reposï¼šè¡¨ç¤ºä¸€ç³»åˆ—ä»“åº“çš„æ˜ å°„ã€‚ <ul><li>repoï¼šè¡¨ç¤ºæ¥ä¸‹æ¥ä½¿ç”¨çš„ hooks è„šæœ¬ä»å“ªä¸ªä»“åº“è¿›è¡Œæ‹‰å–ã€‚</li><li>revï¼šæŒ‡å®šå°†è¦æ‹‰å–çš„ tag ã€‚</li><li>hooksï¼šé’©å­è„šæœ¬åˆ—è¡¨ï¼Œè¿™äº›è„šæœ¬æ¥è‡ªäº repo å®šä¹‰çš„ä»“åº“ä¸­ã€‚ <ul><li>idï¼šæŒ‡å®šå°†è¦åº”ç”¨çš„é’©å­çš„åç§°ï¼Œå°±æ˜¯å¯¹åº”çš„æ–‡ä»¶åã€‚</li></ul></li></ul></li></ul><p>å…¶ä¸­ hooks è¿˜æœ‰æ›´åŠ ä¸°å¯Œçš„é…ç½®ä¿¡æ¯ï¼Œè¿™é‡Œæš‚ä¸å±•å¼€ï¼Œéšåå†è¿›è¡Œå®Œæ•´ä»‹ç»ã€‚</p><p>ç®€å•è§£é‡Šä¸‹å¦‚ä¸Šé…ç½®æ–‡ä»¶çš„æ„æ€ï¼šåœ¨ä»£ç æäº¤ä¹‹å‰ï¼Œä¼šè¿è¡Œ hooks åˆ—è¡¨ä¸­çš„è¿™äº›æ£€æŸ¥ï¼Œè¿™äº›è„šæœ¬æ¥è‡ªäº <code>https://github.com/pre-commit/pre-commit-hooks</code> è¿™ä¸ªä»“åº“çš„ <code>v4.4.0</code>ã€‚å››ä¸ªæ£€æŸ¥è„šæœ¬çš„å«ä¹‰å¦‚ä¸‹ï¼š</p><ul><li><code>trailing-whitespace</code> ï¼šæ£€æŸ¥ä¿®å»ºè¡Œå°¾çš„ç©ºæ ¼</li><li><code>end-of-file-fixer</code> ï¼šç¡®ä¿æ–‡ä»¶ä»¥æ¢è¡Œç¬¦ç»“å°¾ä¸”ä»…ä»¥æ¢è¡Œç¬¦ç»“å°¾ã€‚</li><li><code>check-yaml</code> ï¼šæ£€æŸ¥ yaml æ–‡ä»¶çš„è¯­æ³•ã€‚</li><li><code>check-added-large-files</code> ï¼šé˜²æ­¢æäº¤å¤§æ–‡ä»¶ã€‚(é»˜è®¤æ£€æµ‹é˜ˆå€¼ä¸º 500KB)</li></ul><h3 id="è¿è¡Œ" tabindex="-1"><a class="header-anchor" href="#è¿è¡Œ" aria-hidden="true">#</a> è¿è¡Œ</h3><p>æ‰§è¡Œ <code>pre-commit run --all-files</code> å‘½ä»¤ï¼Œå¯ä»¥æ‰‹åŠ¨è¿è¡Œ pre-commit çš„æ£€æŸ¥ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ pre-commit run --all-files
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Initializing environment <span class="token keyword">for</span> https://github.com/pre-commit/pre-commit-hooks.
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Installing environment <span class="token keyword">for</span> https://github.com/pre-commit/pre-commit-hooks.
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Once installed this environment will be reused.
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> This may take a few minutes<span class="token punctuation">..</span>.
Trim Trailing Whitespace<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.Passed
Fix End of Files<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.Failed
- hook id: end-of-file-fixer
- <span class="token builtin class-name">exit</span> code: <span class="token number">1</span>
- files were modified by this hook

Fixing workflows-tested/rss.yml

Check Yaml<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.Passed
Check <span class="token keyword">for</span> added large files<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>Passed
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>ğŸ“¢æ³¨æ„ï¼š</code> é’©å­æ·»åŠ å®Œæ¯•ä¹‹åï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œpre-commit åªä¼šæ£€æµ‹å½“æ¬¡å˜æ›´äº†çš„æ–‡ä»¶ï¼Œå› æ­¤ä¸€èˆ¬å»ºè®®åœ¨æ·»åŠ ä¹‹åï¼Œè¿è¡Œä¸€æ¬¡é’ˆå¯¹é¡¹ç›®çš„å…¨é¢æ£€æµ‹ã€‚</p><p>å¦‚ä¸Šå†…å®¹è¡¨ç¤ºè¿è¡Œ <code>Fix End of Files</code> è¿™ä¸ªè„šæœ¬çš„æ—¶å€™å‘ç°æœ‰ä¸ç¬¦åˆæ£€æµ‹è§„èŒƒçš„å†…å®¹ï¼Œç„¶åè‡ªåŠ¨ fix æ‰äº†ï¼Œè¿™äº›æ£€æµ‹è„šæœ¬éƒ½æ˜¯æ ¹æ®ä¸ªäººéœ€æ±‚æŒ‰éœ€åŠ è½½ï¼Œå› æ­¤è¿™é‡Œæˆ‘å°±æŠŠè¿™ä¸ªè„šæœ¬å»æ‰äº†ã€‚</p><h3 id="å®‰è£…-1" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-1" aria-hidden="true">#</a> å®‰è£…</h3><p>ä¸Šè¾¹æ˜¯æ‰‹åŠ¨è¿è¡Œçš„ï¼Œæˆ‘ä»¬è¿˜åº”è¯¥è¿è¡Œä¸€ä¸‹å®‰è£…å‘½ä»¤ï¼ŒæŠŠ pre-commit çš„é…ç½®æ–‡ä»¶åŠ è½½åˆ° git hooks å½“ä¸­ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ pre-commit <span class="token function">install</span>
pre-commit installed at .git/hooks/pre-commit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªæ—¶å€™ï¼Œå†æ¬¡è¿è¡Œå¸¸è§„çš„æäº¤æ­¥éª¤å°±ä¼šè§¦å‘æ£€æµ‹äº†ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ gcmsg <span class="token string">&#39;æ·»åŠ pre commit&#39;</span>
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Initializing environment <span class="token keyword">for</span> https://github.com/pre-commit/pre-commit-hooks.
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Installing environment <span class="token keyword">for</span> https://github.com/pre-commit/pre-commit-hooks.
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> Once installed this environment will be reused.
<span class="token punctuation">[</span>INFO<span class="token punctuation">]</span> This may take a few minutes<span class="token punctuation">..</span>.
trim trailing whitespace<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.Passed
check yaml<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.Passed
check <span class="token keyword">for</span> added large files<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>Passed
<span class="token punctuation">[</span>main aeb4728<span class="token punctuation">]</span> æ·»åŠ pre commit
 <span class="token number">1</span> <span class="token function">file</span> changed, <span class="token number">9</span> insertions<span class="token punctuation">(</span>+<span class="token punctuation">)</span>
 create mode <span class="token number">100644</span> .pre-commit-config.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="go-é¡¹ç›®å®è·µ" tabindex="-1"><a class="header-anchor" href="#go-é¡¹ç›®å®è·µ" aria-hidden="true">#</a> Go é¡¹ç›®å®è·µ</h2><p>ä»¥ä¸Šå†…å®¹ä»‹ç»äº† pre-commit çš„ç®€å•é…ç½®ä»¥åŠä½¿ç”¨ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æµ‹è¯•ä¸€ä¸ª go é¡¹ç›®çš„å®è·µã€‚</p><p>ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ å¦‚ä¸‹é…ç½®æ–‡ä»¶ <code>.pre-commit-config.yaml</code> ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">repos</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span>   <span class="token key atrule">repo</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//github.com/pre<span class="token punctuation">-</span>commit/pre<span class="token punctuation">-</span>commit<span class="token punctuation">-</span>hooks
    <span class="token key atrule">rev</span><span class="token punctuation">:</span> v4.4.0
    <span class="token key atrule">hooks</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> check<span class="token punctuation">-</span>yaml
    <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> trailing<span class="token punctuation">-</span>whitespace
    <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> check<span class="token punctuation">-</span>added<span class="token punctuation">-</span>large<span class="token punctuation">-</span>files
<span class="token punctuation">-</span>   <span class="token key atrule">repo</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//github.com/golangci/golangci<span class="token punctuation">-</span>lint <span class="token comment"># golangci-lint hook repo</span>
    <span class="token key atrule">rev</span><span class="token punctuation">:</span> v1.47.3 <span class="token comment"># golangci-lint hook repo revision</span>
    <span class="token key atrule">hooks</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> golangci<span class="token punctuation">-</span>lint
      <span class="token key atrule">name</span><span class="token punctuation">:</span> golangci<span class="token punctuation">-</span>lint
      <span class="token key atrule">description</span><span class="token punctuation">:</span> Fast linters runner for Go.
      <span class="token key atrule">entry</span><span class="token punctuation">:</span> golangci<span class="token punctuation">-</span>lint run <span class="token punctuation">-</span><span class="token punctuation">-</span>fix
      <span class="token key atrule">types</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>go<span class="token punctuation">]</span>
      <span class="token key atrule">language</span><span class="token punctuation">:</span> golang
      <span class="token key atrule">pass_filenames</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åè¿è¡Œå¦‚ä¸‹å‘½ä»¤å°† hooks è½½å…¥åˆ° git é…ç½®æ–‡ä»¶ä¸­ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ pre-commit <span class="token function">install</span>
pre-commit installed at .git/hooks/pre-commit
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå°†ä»£ç æŸå¤„çš„ err é”™è¯¯å¿½ç•¥ä¸åšå¤„ç†ï¼Œæ­¤æ—¶æäº¤ä»£ç çœ‹çœ‹æ˜¯å¦ä¼šæ£€æŸ¥ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ gcmsg <span class="token string">&#39;test pre check&#39;</span>
Check Yaml<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.Passed
Trim Trailing Whitespace<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.Passed
Check <span class="token keyword">for</span> added large files<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>Passed
golangci-lint<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>Failed
- hook id: golangci-lint
- <span class="token builtin class-name">exit</span> code: <span class="token number">1</span>

config/config.go:30:11: ineffectual assignment to err <span class="token punctuation">(</span>ineffassign<span class="token punctuation">)</span>
        workDir, err :<span class="token operator">=</span> os.Getwd<span class="token punctuation">(</span><span class="token punctuation">)</span>
                 ^
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æ­¤å°±å®ç°äº†ä¸€ä¸ªç®€å•çš„æäº¤å‰çš„ lint æ£€æŸ¥ï¼Œä¸€äº›ç®€å•çš„è¯­æ³•é—®é¢˜å°±èƒ½åœ¨è¿™é‡ŒæŠ›å‡ºæ¥äº†ã€‚</p><p>å…¶ä»–è¯­è¨€åŒç†ï¼Œpre-commit å®˜æ–¹æä¾›äº†å¤§é‡æ£€æµ‹è„šæœ¬é›†æˆï¼Œå„è¯­è¨€éƒ½æœ‰ï¼Œå¤§å®¶å¯æŒ‰éœ€è¿›è¡Œäº†è§£ä½¿ç”¨ã€‚</p><h2 id="è¡¥å……" tabindex="-1"><a class="header-anchor" href="#è¡¥å……" aria-hidden="true">#</a> è¡¥å……</h2><h3 id="hooks-é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#hooks-é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> hooks é…ç½®æ–‡ä»¶</h3><p>å†…å®¹æ‘˜è‡ªå®˜æ–¹æ–‡æ¡£ï¼š</p>`,31),b={href:"https://pre-commit.com/#hooks-id",target:"_blank",rel:"noopener noreferrer"},f=n("code",null,"id",-1),y=n("th",null,"é’©å­çš„ id - åœ¨ pre-commit-config.yaml ä¸­ä½¿ç”¨ã€‚",-1),x={href:"https://pre-commit.com/#hooks-name",target:"_blank",rel:"noopener noreferrer"},w=n("code",null,"name",-1),F=n("td",null,"æŒ‚é’©çš„åç§° - åœ¨æŒ‚é’©æ‰§è¡ŒæœŸé—´æ˜¾ç¤ºã€‚",-1),I={href:"https://pre-commit.com/#hooks-entry",target:"_blank",rel:"noopener noreferrer"},N=n("code",null,"entry",-1),P=n("td",null,[s("å…¥å£ç‚¹ - è¦è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ "),n("code",null,"entry"),s(" è¿˜å¯ä»¥åŒ…å«ä¸ä¼šè¢«è¦†ç›–çš„å‚æ•°ï¼Œä¾‹å¦‚ "),n("code",null,"entry: autopep8 -i"),s(".")],-1),O={href:"https://pre-commit.com/#hooks-language",target:"_blank",rel:"noopener noreferrer"},$=n("code",null,"language",-1),T=n("td",null,"é’©å­çš„è¯­è¨€ - å‘Šè¯‰é¢„æäº¤å¦‚ä½•å®‰è£…é’©å­ã€‚",-1),C={href:"https://pre-commit.com/#hooks-files",target:"_blank",rel:"noopener noreferrer"},G=n("code",null,"files",-1),E=n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),n("code",null,"''"),s("ï¼‰è¦è¿è¡Œçš„æ–‡ä»¶æ¨¡å¼ã€‚")],-1),S={href:"https://pre-commit.com/#hooks-exclude",target:"_blank",rel:"noopener noreferrer"},q=n("code",null,"exclude",-1),z=n("code",null,"^$",-1),B={href:"https://pre-commit.com/#hooks-files",target:"_blank",rel:"noopener noreferrer"},V=n("code",null,"files",-1),j={href:"https://pre-commit.com/#hooks-types",target:"_blank",rel:"noopener noreferrer"},H=n("code",null,"types",-1),A=n("code",null,"[file]",-1),D={href:"https://pre-commit.com/#filtering-files-with-types",target:"_blank",rel:"noopener noreferrer"},L={href:"https://pre-commit.com/#hooks-types_or",target:"_blank",rel:"noopener noreferrer"},W=n("code",null,"types_or",-1),Y=n("code",null,"[]",-1),K={href:"https://pre-commit.com/#filtering-files-with-types",target:"_blank",rel:"noopener noreferrer"},U=n("em",null,"2.9.0 ä¸­çš„æ–°åŠŸèƒ½",-1),J={href:"https://pre-commit.com/#hooks-exclude_types",target:"_blank",rel:"noopener noreferrer"},M=n("code",null,"exclude_types",-1),Q=n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),n("code",null,"[]"),s("ï¼‰è¦æ’é™¤çš„æ–‡ä»¶æ¨¡å¼ã€‚")],-1),R={href:"https://pre-commit.com/#hooks-always_run",target:"_blank",rel:"noopener noreferrer"},X=n("code",null,"always_run",-1),Z=n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),n("code",null,"false"),s("ï¼‰å³ä½¿ "),n("code",null,"true"),s(" æ²¡æœ‰åŒ¹é…çš„æ–‡ä»¶ï¼Œè¿™ä¸ªé’©å­ä¹Ÿä¼šè¿è¡Œã€‚")],-1),nn={href:"https://pre-commit.com/#hooks-fail_fast",target:"_blank",rel:"noopener noreferrer"},sn=n("code",null,"fail_fast",-1),an=n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),n("code",null,"false"),s("ï¼‰å¦‚æœ "),n("code",null,"true"),s(" æ­¤æŒ‚é’©å¤±è´¥ï¼Œé¢„æäº¤å°†åœæ­¢è¿è¡ŒæŒ‚é’©ã€‚ "),n("em",null,"2.16.0 ä¸­çš„æ–°åŠŸèƒ½"),s("ã€‚")],-1),tn={href:"https://pre-commit.com/#hooks-verbose",target:"_blank",rel:"noopener noreferrer"},en=n("code",null,"verbose",-1),on=n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),n("code",null,"false"),s("ï¼‰å¦‚æœ "),n("code",null,"true"),s("ï¼Œå³ä½¿æŒ‚é’©é€šè¿‡ï¼Œä¹Ÿå¼ºåˆ¶æ‰“å°æŒ‚é’©çš„è¾“å‡ºã€‚")],-1),pn={href:"https://pre-commit.com/#hooks-pass_filenames",target:"_blank",rel:"noopener noreferrer"},cn=n("code",null,"pass_filenames",-1),ln=n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),n("code",null,"true"),s("ï¼‰å¦‚æœ "),n("code",null,"false"),s(" æ²¡æœ‰æ–‡ä»¶åå°†ä¼ é€’ç»™æŒ‚é’©ã€‚")],-1),un={href:"https://pre-commit.com/#hooks-require_serial",target:"_blank",rel:"noopener noreferrer"},rn=n("code",null,"require_serial",-1),dn=n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),n("code",null,"false"),s("ï¼‰å¦‚æœ "),n("code",null,"true"),s(" è¿™ä¸ªé’©å­å°†ä½¿ç”¨å•ä¸ªè¿›ç¨‹è€Œä¸æ˜¯å¹¶è¡Œæ‰§è¡Œã€‚")],-1),kn={href:"https://pre-commit.com/#hooks-description",target:"_blank",rel:"noopener noreferrer"},mn=n("code",null,"description",-1),hn=n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),n("code",null,"''"),s("ï¼‰é’©å­çš„æè¿°ã€‚ä»…ç”¨äºå…ƒæ•°æ®ç›®çš„ã€‚")],-1),_n={href:"https://pre-commit.com/#hooks-language_version",target:"_blank",rel:"noopener noreferrer"},vn=n("code",null,"language_version",-1),gn=n("code",null,"default",-1),bn={href:"https://pre-commit.com/#overriding-language-version",target:"_blank",rel:"noopener noreferrer"},fn={href:"https://pre-commit.com/#hooks-minimum_pre_commit_version",target:"_blank",rel:"noopener noreferrer"},yn=n("code",null,"minimum_pre_commit_version",-1),xn=n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),n("code",null,"'0'"),s("ï¼‰å…è®¸ä¸€ä¸ªäººæŒ‡ç¤ºæœ€ä½å…¼å®¹çš„é¢„æäº¤ç‰ˆæœ¬ã€‚")],-1),wn={href:"https://pre-commit.com/#hooks-args",target:"_blank",rel:"noopener noreferrer"},Fn=n("code",null,"args",-1),In=n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),n("code",null,"[]"),s("ï¼‰è¦ä¼ é€’ç»™æŒ‚é’©çš„é™„åŠ å‚æ•°åˆ—è¡¨ã€‚")],-1),Nn={href:"https://pre-commit.com/#hooks-stages",target:"_blank",rel:"noopener noreferrer"},Pn=n("code",null,"stages",-1),On=n("code",null,"commit",-1),$n=n("code",null,"merge-commit",-1),Tn=n("code",null,"push",-1),Cn=n("code",null,"prepare-commit-msg",-1),Gn=n("code",null,"commit-msg",-1),En=n("code",null,"post-checkout",-1),Sn=n("code",null,"post-commit",-1),qn=n("code",null,"post-merge",-1),zn=n("code",null,"post-rewrite",-1),Bn=n("code",null,"manual",-1),Vn={href:"https://pre-commit.com/#confining-hooks-to-run-at-certain-stages",target:"_blank",rel:"noopener noreferrer"},jn=n("h3",{id:"å…¶ä»–å†…å®¹å¿«é“¾",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å…¶ä»–å†…å®¹å¿«é“¾","aria-hidden":"true"},"#"),s(" å…¶ä»–å†…å®¹å¿«é“¾")],-1),Hn=n("p",null,"å¤§éƒ¨åˆ†å†…å®¹å®˜æ–¹æ–‡æ¡£å·²ç»ä»‹ç»çš„å¾ˆå¥½ï¼Œè¿™é‡Œä¸å†é‡å¤ä»‹ç»ï¼ŒæŠŠç›¸å…³çš„å†…å®¹å¿«é“¾å¦‚ä¸‹ï¼š",-1),An={href:"https://pre-commit.com/#automatically-enabling-pre-commit-on-repositories",target:"_blank",rel:"noopener noreferrer"},Dn={href:"https://pre-commit.com/#supported-languages",target:"_blank",rel:"noopener noreferrer"},Ln={href:"https://pre-commit.com/#filtering-files-with-types",target:"_blank",rel:"noopener noreferrer"},Wn={href:"https://pre-commit.com/#badging-your-repository",target:"_blank",rel:"noopener noreferrer"},Yn={href:"https://pre-commit.com/#github-actions-example",target:"_blank",rel:"noopener noreferrer"};function Kn(Un,Jn){const a=p("ExternalLinkIcon");return c(),l("div",null,[u,r,d,n("ul",null,[n("li",null,[s("é¡¹ç›®ï¼š"),n("a",k,[s("pre-commit"),t(a)])]),n("li",null,[s("å®˜ç½‘ï¼š "),n("a",m,[s("https://pre-commit.com/"),t(a)])]),n("li",null,[s("å¼€ç®±å³ç”¨ï¼š"),n("a",h,[s("pre-commit-hooks"),t(a)])])]),_,n("p",null,[s("ç°åœ¨æˆ‘æ‹¿ "),n("a",v,[s("learn-github"),t(a)]),s(" é¡¹ç›®æ¥ä½œä¸ºç¤ºä¾‹è¿›è¡Œä½“éªŒã€‚")]),g,n("table",null,[n("thead",null,[n("tr",null,[n("th",null,[n("a",b,[f,t(a)])]),y])]),n("tbody",null,[n("tr",null,[n("td",null,[n("a",x,[w,t(a)])]),F]),n("tr",null,[n("td",null,[n("a",I,[N,t(a)])]),P]),n("tr",null,[n("td",null,[n("a",O,[$,t(a)])]),T]),n("tr",null,[n("td",null,[n("a",C,[G,t(a)])]),E]),n("tr",null,[n("td",null,[n("a",S,[q,t(a)])]),n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),z,s("ï¼‰æ’é™¤åŒ¹é…çš„æ–‡ä»¶ "),n("a",B,[V,t(a)]),s("ã€‚")])]),n("tr",null,[n("td",null,[n("a",j,[H,t(a)])]),n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),A,s("ï¼‰è¦è¿è¡Œçš„æ–‡ä»¶ç±»å‹åˆ—è¡¨ï¼ˆANDï¼‰ã€‚è¯·å‚é˜… "),n("a",D,[s("ä½¿ç”¨ç±»å‹è¿‡æ»¤æ–‡ä»¶"),t(a)]),s("ã€‚")])]),n("tr",null,[n("td",null,[n("a",L,[W,t(a)])]),n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),Y,s("ï¼‰è¦è¿è¡Œçš„æ–‡ä»¶ç±»å‹åˆ—è¡¨ï¼ˆæˆ–ï¼‰ã€‚è¯·å‚é˜… "),n("a",K,[s("ä½¿ç”¨ç±»å‹è¿‡æ»¤æ–‡ä»¶"),t(a)]),s("ã€‚ "),U,s("ã€‚")])]),n("tr",null,[n("td",null,[n("a",J,[M,t(a)])]),Q]),n("tr",null,[n("td",null,[n("a",R,[X,t(a)])]),Z]),n("tr",null,[n("td",null,[n("a",nn,[sn,t(a)])]),an]),n("tr",null,[n("td",null,[n("a",tn,[en,t(a)])]),on]),n("tr",null,[n("td",null,[n("a",pn,[cn,t(a)])]),ln]),n("tr",null,[n("td",null,[n("a",un,[rn,t(a)])]),dn]),n("tr",null,[n("td",null,[n("a",kn,[mn,t(a)])]),hn]),n("tr",null,[n("td",null,[n("a",_n,[vn,t(a)])]),n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ "),gn,s("ï¼‰è¯·å‚é˜… "),n("a",bn,[s("è¦†ç›–è¯­è¨€ç‰ˆæœ¬"),t(a)]),s("ã€‚")])]),n("tr",null,[n("td",null,[n("a",fn,[yn,t(a)])]),xn]),n("tr",null,[n("td",null,[n("a",wn,[Fn,t(a)])]),In]),n("tr",null,[n("td",null,[n("a",Nn,[Pn,t(a)])]),n("td",null,[s("ï¼ˆå¯é€‰ï¼šé»˜è®¤ï¼ˆæ‰€æœ‰é˜¶æ®µï¼‰ï¼‰å°†æŒ‚é’©é™åˆ¶åœ¨ "),On,s("ã€"),$n,s("ã€ "),Tn,s("ã€"),Cn,s("ã€"),Gn,s("ã€"),En,s("ã€"),Sn,s("ã€ "),qn,s("ã€"),zn,s(" å’Œ/æˆ– "),Bn,s(" é˜¶æ®µã€‚è¯·å‚é˜… "),n("a",Vn,[s("é™åˆ¶æŒ‚é’©åœ¨ç‰¹å®šé˜¶æ®µè¿è¡Œ"),t(a)]),s("ã€‚")])])])]),jn,Hn,n("ul",null,[n("li",null,[n("a",An,[s("å¦‚ä½•è®¾ç½®é»˜è®¤å¯ç”¨"),t(a)])]),n("li",null,[n("a",Dn,[s("æ”¯æŒçš„è¯­è¨€"),t(a)])]),n("li",null,[n("a",Ln,[s("æŒ‰ç±»å‹è¿‡æ»¤æ–‡ä»¶"),t(a)])]),n("li",null,[n("a",Wn,[s("ä½¿ç”¨å¾½æ ‡æ ‡è®°ä½ çš„å­˜å‚¨åº“"),t(a)])]),n("li",null,[n("a",Yn,[s("ä¸ GitHub Action çš„é›†æˆ"),t(a)])])])])}const Qn=o(i,[["render",Kn],["__file","09-How-to-use-pre-commit-to-standardize-coding.html.vue"]]);export{Qn as default};
