import{_ as p,r as o,o as l,c as i,a as s,b as a,d as e,e as u}from"./app-6e4b3321.js";const r={},c={href:"https://github.com/ouuan/This-repo-has-x-stars-y-forks-action",target:"_blank",rel:"noopener noreferrer"},k={href:"https://wiki.eryajf.net/pages/47a507/",target:"_blank",rel:"noopener noreferrer"};function d(v,n){const t=o("ExternalLinkIcon");return l(),i("div",null,[n[7]||(n[7]=s("p",null,"本文介绍一个有意思的小动作，它的主要功能是可以获取项目当前的 star 与 fork 数量，然后将这两个数据覆盖到项目的 Descrition 中。",-1)),s("p",null,[n[1]||(n[1]=a("所用 Actions：")),s("a",c,[n[0]||(n[0]=a("This-repo-has-x-stars-y-forks-action")),e(t)])]),n[8]||(n[8]=u(`<p>使用配置其实非常简单，基本上阅读完官方介绍文档就可以上手使用了，这里说一两个需要注意的地方。</p><p>首先添加 Actions 配置文件，e.g. <code>.github/workflows/start-fork-updata.yml</code>：</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> This repo has x stars y forks

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> master
  <span class="token key atrule">fork</span><span class="token punctuation">:</span>
  <span class="token key atrule">watch</span><span class="token punctuation">:</span>
    <span class="token key atrule">types</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> started
  <span class="token key atrule">schedule</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">cron</span><span class="token punctuation">:</span> <span class="token string">&quot;0 * * * *&quot;</span>
  <span class="token key atrule">workflow_dispatch</span><span class="token punctuation">:</span>

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">update</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> This repo has x stars y forks
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> ouuan/This<span class="token punctuation">-</span>repo<span class="token punctuation">-</span>has<span class="token punctuation">-</span>x<span class="token punctuation">-</span>stars<span class="token punctuation">-</span>y<span class="token punctuation">-</span>forks<span class="token punctuation">-</span>action@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">token</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.ACCESS_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">template</span><span class="token punctuation">:</span> <span class="token string">&quot;A profile README with &lt;starCount&gt; stars and &lt;forkCount&gt; forks 🌟&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3)),s("p",null,[n[3]||(n[3]=a("配置文件中用到了  ")),n[4]||(n[4]=s("code",null,"ACCESS_TOKEN",-1)),n[5]||(n[5]=a("，我的这篇文章有详细介绍如何生成以及配置，可直接参考： ")),s("a",k,[n[2]||(n[2]=a("https://wiki.eryajf.net/pages/47a507/")),e(t)]),n[6]||(n[6]=a("。"))]),n[9]||(n[9]=s("p",null,"目前配置的为每个小时执行一次更新，如果你想要其他时间，可根据需求进行调整。",-1)),n[10]||(n[10]=s("p",null,"效果如下：",-1)),n[11]||(n[11]=s("p",null,[s("img",{src:"https://cdn.jsdelivr.net/gh/eryajf/tu/img/image_20220729_164001.png",alt:"image_20220729_164001"})],-1))])}const y=p(r,[["render",d],["__file","09-Automatically-get-the-project-current-star-and-fork-to-write-to-Description.html.vue"]]);export{y as default};
